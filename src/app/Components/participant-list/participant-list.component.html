<div class="container mt-5">
  <div *ngIf="message" class="alert" [ngClass]="isSuccess ? 'alert-success' : 'alert-danger'">
    {{ message }}
  </div>

  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="mb-0">Liste des Participants</h2>
    <button class="btn btn-primary btn-lg" [routerLink]="['/create-participant']">Ajouter Participant</button>
  </div>

  <div class="row mb-4">
    <div class="col-md-6">
      <input type="text" class="form-control" placeholder="Rechercher par nom ou email" [(ngModel)]="searchTerm"
        (input)="filterParticipants()" />
    </div>
  </div>

  <div class="table-responsive">
    <table class="table table-hover align-middle table-striped">
      <thead class="table-light">
        <tr>
          <th>#</th>
          <th>Nom</th>
          <th>Email</th>
          <th>Téléphone</th>
          <th class="text-center">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let participant of paginatedParticipants; let i = index">
          <td>{{ (currentPage - 1) * itemsPerPage + i + 1 }}</td>
          <td>{{ participant.name }}</td>
          <td>{{ participant.email }}</td>
          <td>{{ participant.telephone }}</td>
          <td class="text-center">
            <div class="btn-group">
              <button class="btn btn-sm btn-outline-primary me-1" [routerLink]="['/edit-participant', participant.id]"
                title="Modifier">✏️</button>
              <button class="btn btn-sm btn-outline-danger me-1" (click)="deleteParticipant(participant.id)"
                title="Supprimer">🗑️</button>
              <button class="btn btn-sm btn-outline-primary" [routerLink]="['/details-participant', participant.id]"
                title="Voir">👁️</button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="d-flex justify-content-between mt-3">
    <div class="text-muted">Participants par page : {{ itemsPerPage }}</div>
    {{ (currentPage - 1) * itemsPerPage + 1 }}–{{ (currentPage * itemsPerPage) < totalItems ? (currentPage *
      itemsPerPage) : totalItems }} sur {{ totalItems }} <nav aria-label="Pagination">
      <ul class="pagination">
        <li class="page-item" [class.disabled]="currentPage === 1">
          <button class="page-link" (click)="previousPage()">Précédent</button>
        </li>
        <li class="page-item" [class.disabled]="currentPage === totalPages">
          <button class="page-link" (click)="nextPage()">Suivant</button>
        </li>
      </ul>
      </nav>
  </div>
</div>
